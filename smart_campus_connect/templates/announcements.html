
{% extends "base.html" %}

{% block title %}Announcements{% endblock %}

{% block content %}
<h1>Campus Announcements</h1>

{% if current_user.is_authenticated %}
<div class="create-announcement">
    <h2>Create New Announcement</h2>
    <form method="POST" action="{{ url_for('create_announcement') }}">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required>

        <label for="content">Content:</label>
        <textarea id="content" name="content" required></textarea>

        <button type="submit">Post Announcement</button>
    </form>
</div>
{% endif %}

<div class="announcements-list">
    {% for announcement in announcements %}
    <div class="announcement">
        <h3>{{ announcement.title }}</h3>
        <p>{{ announcement.content }}</p>
        <p class="announcement-meta">
            Posted by {{ announcement.author.name }} on {{ announcement.date_posted.strftime('%Y-%m-%d %H:%M') }}
        </p>
    </div>
    {% else %}
    <p>No announcements yet.</p>
    {% endfor %}
</div>
{% endblock %}
