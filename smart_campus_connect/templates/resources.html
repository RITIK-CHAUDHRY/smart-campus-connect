
{% extends "base.html" %}

{% block title %}Resources{% endblock %}

{% block content %}
<h1>Resource Sharing</h1>

{% if current_user.is_authenticated %}
<div class="upload-resource">
    <h2>Upload New Resource</h2>
    <form method="POST" action="{{ url_for('upload_resource') }}" enctype="multipart/form-data">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required>

        <label for="description">Description:</label>
        <textarea id="description" name="description" required></textarea>

        <label for="file">File (PDF or Image):</label>
        <input type="file" id="file" name="file" accept=".pdf,.jpg,.jpeg,.png" required>

        <button type="submit">Upload Resource</button>
    </form>
</div>
{% endif %}

<div class="resources-list">
    <h2>Available Resources</h2>
    {% for resource in resources %}
    <div class="resource">
        <h3>{{ resource.title }}</h3>
        <p>{{ resource.description }}</p>
        <p><strong>Uploaded by:</strong> {{ resource.uploader.name }}</p>
        <p><strong>Upload Date:</strong> {{ resource.upload_date.strftime('%Y-%m-%d %H:%M') }}</p>
        <a href="{{ url_for('download_resource', resource_id=resource.id) }}" class="download-link">Download</a>
    </div>
    {% else %}
    <p>No resources available yet.</p>
    {% endfor %}
</div>

{% endblock %}
